<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<vdb name="Financials_VDB" version="1">
<description/>
<property name="validationDateTime" value="Wed Dec 09 11:14:34 CST 2015"/>
<property name="validationVersion" value="8.6.0"/>
<model name="Products_VBL" type="VIRTUAL">
<metadata type="DDL"><![CDATA[
CREATE VIEW productdata (
	ProductID string(10) NOT NULL OPTIONS(NAMEINSOURCE 'ProductID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	ProductName string(60) NOT NULL OPTIONS(NAMEINSOURCE 'ProductName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	ProductType string(15) OPTIONS(NAMEINSOURCE 'ProductType', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	Issuer string(10) OPTIONS(NAMEINSOURCE 'Issuer', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	Exchange string(10) OPTIONS(NAMEINSOURCE 'Exchange', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	DJIComponent bigdecimal(1) OPTIONS(NAMEINSOURCE 'DJIComponent', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	SP500Component bigdecimal(1) OPTIONS(NAMEINSOURCE 'SP500Component', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	Nas100Component bigdecimal(1) OPTIONS(NAMEINSOURCE 'Nas100Component', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	AmexIntComponent bigdecimal(1) OPTIONS(NAMEINSOURCE 'AmexIntComponent', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	PrimaryBusiness string(45) OPTIONS(NAMEINSOURCE 'PrimaryBusiness', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	CONSTRAINT PRIMARY PRIMARY KEY(ProductID)
) OPTIONS(NAMEINSOURCE 'productdata', UPDATABLE 'FALSE') 
AS
	SELECT * FROM Products.productdata;

CREATE VIEW productsymbols (
	ProductID string(10) NOT NULL OPTIONS(NAMEINSOURCE 'ProductID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	SymbolType bigdecimal(10) OPTIONS(NAMEINSOURCE 'SymbolType', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	Symbol string(10) NOT NULL OPTIONS(NAMEINSOURCE 'Symbol', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	CUSIP string(20) OPTIONS(NAMEINSOURCE 'CUSIP', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	CONSTRAINT PRIMARY PRIMARY KEY(ProductID),
	CONSTRAINT FK_ProductSymbols_ProductID FOREIGN KEY(ProductID) REFERENCES productdata(ProductID)
) OPTIONS(NAMEINSOURCE 'productsymbols', UPDATABLE 'FALSE') 
AS
	SELECT * FROM Products.productsymbols;

]]></metadata>
</model>
<model name="Products">
<source connection-jndi-name="Products" name="Products" translator-name="mysql5"/>
<metadata type="DDL"><![CDATA[
CREATE FOREIGN TABLE productdata (
	ProductID string(10) NOT NULL OPTIONS(NAMEINSOURCE 'ProductID', NATIVE_TYPE 'VARCHAR'),
	ProductName string(60) NOT NULL OPTIONS(NAMEINSOURCE 'ProductName', NATIVE_TYPE 'VARCHAR'),
	ProductType string(15) OPTIONS(NAMEINSOURCE 'ProductType', NATIVE_TYPE 'VARCHAR'),
	Issuer string(10) OPTIONS(NAMEINSOURCE 'Issuer', NATIVE_TYPE 'VARCHAR'),
	Exchange string(10) OPTIONS(NAMEINSOURCE 'Exchange', NATIVE_TYPE 'VARCHAR'),
	DJIComponent bigdecimal(1) OPTIONS(NAMEINSOURCE 'DJIComponent', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	SP500Component bigdecimal(1) OPTIONS(NAMEINSOURCE 'SP500Component', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	Nas100Component bigdecimal(1) OPTIONS(NAMEINSOURCE 'Nas100Component', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	AmexIntComponent bigdecimal(1) OPTIONS(NAMEINSOURCE 'AmexIntComponent', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	PrimaryBusiness string(45) OPTIONS(NAMEINSOURCE 'PrimaryBusiness', NATIVE_TYPE 'VARCHAR'),
	CONSTRAINT PRIMARY PRIMARY KEY(ProductID)
) OPTIONS(NAMEINSOURCE 'productdata')

CREATE FOREIGN TABLE productsymbols (
	ProductID string(10) NOT NULL OPTIONS(NAMEINSOURCE 'ProductID', NATIVE_TYPE 'VARCHAR'),
	SymbolType bigdecimal(10) OPTIONS(NAMEINSOURCE 'SymbolType', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	Symbol string(10) NOT NULL OPTIONS(NAMEINSOURCE 'Symbol', NATIVE_TYPE 'VARCHAR'),
	CUSIP string(20) OPTIONS(NAMEINSOURCE 'CUSIP', NATIVE_TYPE 'VARCHAR'),
	CONSTRAINT PRIMARY PRIMARY KEY(ProductID),
	CONSTRAINT FK_ProductSymbols_ProductID FOREIGN KEY(ProductID) REFERENCES productdata(ProductID)
) OPTIONS(NAMEINSOURCE 'productsymbols')

]]></metadata>
</model>
<model name="EU_Customers">
<source connection-jndi-name="EU_Customers" name="EU_Customers" translator-name="mysql5"/>
<metadata type="DDL"><![CDATA[
CREATE FOREIGN TABLE account (
	AccountID bigdecimal(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CustomerId string(12) NOT NULL OPTIONS(NAMEINSOURCE 'CustomerId', NATIVE_TYPE 'VARCHAR'),
	AccountType string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountType', NATIVE_TYPE 'VARCHAR'),
	AccountStatus string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountStatus', NATIVE_TYPE 'VARCHAR'),
	DateOpened timestamp OPTIONS(NAMEINSOURCE 'DateOpened', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	DateClosed timestamp OPTIONS(NAMEINSOURCE 'DateClosed', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(AccountID),
	CONSTRAINT FK_Account_CustId FOREIGN KEY(CustomerId) REFERENCES customer(CustomerId)
) OPTIONS(NAMEINSOURCE 'account')

CREATE FOREIGN TABLE accountholdings (
	TransactionID string(15) NOT NULL OPTIONS(NAMEINSOURCE 'TransactionID', NATIVE_TYPE 'VARCHAR'),
	AccountID bigdecimal(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductID string(12) NOT NULL OPTIONS(NAMEINSOURCE 'ProductID', NATIVE_TYPE 'VARCHAR'),
	PurchaseDate timestamp OPTIONS(NAMEINSOURCE 'PurchaseDate', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductShares bigdecimal(10, 5) NOT NULL OPTIONS(NAMEINSOURCE 'ProductShares', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(TransactionID),
	CONSTRAINT FK_AcctHoldings_AcctID FOREIGN KEY(AccountID) REFERENCES account(AccountID)
) OPTIONS(NAMEINSOURCE 'accountholdings')

CREATE FOREIGN TABLE customer (
	CustomerId string(12) NOT NULL OPTIONS(NAMEINSOURCE 'CustomerId', NATIVE_TYPE 'VARCHAR'),
	FirstName string(25) OPTIONS(NAMEINSOURCE 'FirstName', NATIVE_TYPE 'VARCHAR'),
	LastName string(25) OPTIONS(NAMEINSOURCE 'LastName', NATIVE_TYPE 'VARCHAR'),
	MiddleName string(15) OPTIONS(NAMEINSOURCE 'MiddleName', NATIVE_TYPE 'VARCHAR'),
	StreetAddress string(50) OPTIONS(NAMEINSOURCE 'StreetAddress', NATIVE_TYPE 'VARCHAR'),
	StreetAddress2 string(25) OPTIONS(NAMEINSOURCE 'StreetAddress2', NATIVE_TYPE 'VARCHAR'),
	City string(25) OPTIONS(NAMEINSOURCE 'City', NATIVE_TYPE 'VARCHAR'),
	StateProvince string(25) OPTIONS(NAMEINSOURCE 'StateProvince', NATIVE_TYPE 'VARCHAR'),
	PostalCode string(15) OPTIONS(NAMEINSOURCE 'PostalCode', NATIVE_TYPE 'VARCHAR'),
	Country string(15) OPTIONS(NAMEINSOURCE 'Country', NATIVE_TYPE 'VARCHAR'),
	PhoneNumber string(30) OPTIONS(NAMEINSOURCE 'PhoneNumber', NATIVE_TYPE 'VARCHAR'),
	CONSTRAINT PRIMARY PRIMARY KEY(CustomerId)
) OPTIONS(NAMEINSOURCE 'customer')

]]></metadata>
</model>
<model name="APAC_Customers_VBL" type="VIRTUAL">
<metadata type="DDL"><![CDATA[
CREATE VIEW ACCOUNT (
	AccountID bigdecimal(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CustID string(12) NOT NULL OPTIONS(NAMEINSOURCE 'CustID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountType string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountType', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountStatus string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountStatus', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	DATEOPENED timestamp NOT NULL OPTIONS(NAMEINSOURCE 'DATEOPENED', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	DATECLOSED timestamp OPTIONS(NAMEINSOURCE 'DATECLOSED', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(AccountID),
	CONSTRAINT FK_Account_CustID FOREIGN KEY(CustID) REFERENCES CUSTOMER(CustID)
) OPTIONS(NAMEINSOURCE 'ACCOUNT', UPDATABLE 'FALSE') 
AS
	SELECT * FROM APAC_Customers.ACCOUNT;

CREATE VIEW ACCOUNTHOLDINGS (
	TransactionID string(12) NOT NULL OPTIONS(NAMEINSOURCE 'TransactionID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountID bigdecimal(18) NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductID string(12) NOT NULL OPTIONS(NAMEINSOURCE 'ProductID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PURCHASEDATE timestamp NOT NULL OPTIONS(NAMEINSOURCE 'PURCHASEDATE', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductShares bigdecimal(10, 5) NOT NULL OPTIONS(NAMEINSOURCE 'ProductShares', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(TransactionID),
	CONSTRAINT FK_AcctHoldings_AcctID FOREIGN KEY(AccountID) REFERENCES ACCOUNT(AccountID)
) OPTIONS(NAMEINSOURCE 'ACCOUNTHOLDINGS', UPDATABLE 'FALSE') 
AS
	SELECT * FROM APAC_Customers.ACCOUNTHOLDINGS;

CREATE VIEW CUSTOMER (
	CustID string(12) NOT NULL OPTIONS(NAMEINSOURCE 'CustID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	F_name string(25) OPTIONS(NAMEINSOURCE 'F_name', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	L_name string(25) OPTIONS(NAMEINSOURCE 'L_name', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	M_name string(15) OPTIONS(NAMEINSOURCE 'M_name', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StreetAddress string(50) OPTIONS(NAMEINSOURCE 'StreetAddress', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StreetAddress2 string(25) OPTIONS(NAMEINSOURCE 'StreetAddress2', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	CITY string(25) OPTIONS(NAMEINSOURCE 'CITY', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StateProvince string(25) OPTIONS(NAMEINSOURCE 'StateProvince', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	POSTALCODE string(15) OPTIONS(NAMEINSOURCE 'POSTALCODE', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	COUNTRY string(10) OPTIONS(NAMEINSOURCE 'COUNTRY', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PhoneNumber string(30) OPTIONS(NAMEINSOURCE 'PhoneNumber', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	CONSTRAINT PRIMARY PRIMARY KEY(CustID)
) OPTIONS(NAMEINSOURCE 'CUSTOMER', UPDATABLE 'FALSE') 
AS
	SELECT * FROM APAC_Customers.CUSTOMER;

]]></metadata>
</model>
<model name="All_Customers" type="VIRTUAL">
<metadata type="DDL"><![CDATA[
CREATE VIEW account (
	AccountID long NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CustomerId string(12) NOT NULL OPTIONS(NAMEINSOURCE 'CustomerId', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountType string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountType', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountStatus string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountStatus', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	DateOpened date OPTIONS(NAMEINSOURCE 'DateOpened', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	DateClosed date OPTIONS(NAMEINSOURCE 'DateClosed', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(AccountID),
	CONSTRAINT FK_Account_CustId FOREIGN KEY(CustomerId) REFERENCES customer(CustomerId)
) OPTIONS(NAMEINSOURCE 'account', UPDATABLE 'FALSE') 
AS
	SELECT * FROM APAC_Customers_DDC.account UNION ALL SELECT * FROM EU_Customers_DDC.account UNION ALL SELECT * FROM US_Customers_DDC.account;

CREATE VIEW accountholdings (
	TransactionID string(15) NOT NULL OPTIONS(NAMEINSOURCE 'TransactionID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountID long NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductID string(12) NOT NULL OPTIONS(NAMEINSOURCE 'ProductID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PurchaseDate date OPTIONS(NAMEINSOURCE 'PurchaseDate', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductShares float NOT NULL OPTIONS(NAMEINSOURCE 'ProductShares', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(TransactionID),
	CONSTRAINT FK_AcctHoldings_AcctID FOREIGN KEY(AccountID) REFERENCES account(AccountID)
) OPTIONS(NAMEINSOURCE 'accountholdings', UPDATABLE 'FALSE') 
AS
	SELECT * FROM APAC_Customers_DDC.accountholdings UNION ALL SELECT * FROM EU_Customers_DDC.accountholdings UNION ALL SELECT * FROM US_Customers_DDC.accountholdings;

CREATE VIEW customer (
	CustomerId string(12) NOT NULL OPTIONS(NAMEINSOURCE 'CustomerId', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	FirstName string(25) OPTIONS(NAMEINSOURCE 'FirstName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	LastName string(25) OPTIONS(NAMEINSOURCE 'LastName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	MiddleInitial string(15) OPTIONS(NAMEINSOURCE 'MiddleName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StreetAddress string(50) OPTIONS(NAMEINSOURCE 'StreetAddress', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StreetAddress2 string(25) OPTIONS(NAMEINSOURCE 'StreetAddress2', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	City string(25) OPTIONS(NAMEINSOURCE 'City', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StateProvince string(25) OPTIONS(NAMEINSOURCE 'StateProvince', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PostalCode string(15) OPTIONS(NAMEINSOURCE 'PostalCode', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	Country string(15) OPTIONS(NAMEINSOURCE 'Country', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PhoneNumber string(30) OPTIONS(NAMEINSOURCE 'PhoneNumber', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	CONSTRAINT PRIMARY PRIMARY KEY(CustomerId)
) OPTIONS(NAMEINSOURCE 'customer', UPDATABLE 'FALSE') 
AS
	SELECT * FROM APAC_Customers_DDC.customer UNION ALL SELECT * FROM EU_Customers_DDC.customer UNION ALL SELECT * FROM US_Customers_DDC.customer;

]]></metadata>
</model>
<model name="YahooQuote">
<source connection-jndi-name="YahooQuote" name="YahooQuote" translator-name="file"/>
<metadata type="DDL"><![CDATA[
CREATE FOREIGN PROCEDURE getTextFiles (pathToFile string) RETURNS TABLE (content clob, path string)

]]></metadata>
</model>
<model name="US_Customers">
<source connection-jndi-name="US_Customers" name="US_Customers" translator-name="mysql5"/>
<metadata type="DDL"><![CDATA[
CREATE FOREIGN TABLE account (
	AccountID bigdecimal(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	SSN string(12) NOT NULL OPTIONS(NAMEINSOURCE 'SSN', NATIVE_TYPE 'VARCHAR'),
	AccountType string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountType', NATIVE_TYPE 'VARCHAR'),
	AccountStatus string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountStatus', NATIVE_TYPE 'VARCHAR'),
	DateOpened timestamp NOT NULL OPTIONS(NAMEINSOURCE 'DateOpened', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	DateClosed timestamp OPTIONS(NAMEINSOURCE 'DateClosed', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(AccountID),
	CONSTRAINT FK_Account_SSN FOREIGN KEY(SSN) REFERENCES customer(SSN)
) OPTIONS(NAMEINSOURCE 'account')

CREATE FOREIGN TABLE accountholdings (
	TransactionID string(15) NOT NULL OPTIONS(NAMEINSOURCE 'TransactionID', NATIVE_TYPE 'VARCHAR'),
	AccountID bigdecimal(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductID string(12) NOT NULL OPTIONS(NAMEINSOURCE 'ProductID', NATIVE_TYPE 'VARCHAR'),
	PurchaseDate timestamp NOT NULL OPTIONS(NAMEINSOURCE 'PurchaseDate', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductShares bigdecimal(10, 5) NOT NULL OPTIONS(NAMEINSOURCE 'ProductShares', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(TransactionID),
	CONSTRAINT FK_AcctHoldings_AcctID FOREIGN KEY(AccountID) REFERENCES account(AccountID)
) OPTIONS(NAMEINSOURCE 'accountholdings')

CREATE FOREIGN TABLE customer (
	SSN string(12) NOT NULL OPTIONS(NAMEINSOURCE 'SSN', NATIVE_TYPE 'VARCHAR'),
	FirstName string(25) OPTIONS(NAMEINSOURCE 'FirstName', NATIVE_TYPE 'VARCHAR'),
	LastName string(25) OPTIONS(NAMEINSOURCE 'LastName', NATIVE_TYPE 'VARCHAR'),
	MiddleInitial string(15) OPTIONS(NAMEINSOURCE 'MiddleInitial', NATIVE_TYPE 'VARCHAR'),
	StreetAddress1 string(50) OPTIONS(NAMEINSOURCE 'StreetAddress1', NATIVE_TYPE 'VARCHAR'),
	AptNumber string(25) OPTIONS(NAMEINSOURCE 'AptNumber', NATIVE_TYPE 'VARCHAR'),
	City string(25) OPTIONS(NAMEINSOURCE 'City', NATIVE_TYPE 'VARCHAR'),
	State string(25) OPTIONS(NAMEINSOURCE 'State', NATIVE_TYPE 'VARCHAR'),
	Zipcode string(15) OPTIONS(NAMEINSOURCE 'Zipcode', NATIVE_TYPE 'VARCHAR'),
	Phone string(30) OPTIONS(NAMEINSOURCE 'Phone', NATIVE_TYPE 'VARCHAR'),
	CONSTRAINT PRIMARY PRIMARY KEY(SSN)
) OPTIONS(NAMEINSOURCE 'customer')

]]></metadata>
</model>
<model name="Products_DDC" type="VIRTUAL">
<metadata type="DDL"><![CDATA[
CREATE VIEW productdata (
	ProductID string(10) NOT NULL OPTIONS(NAMEINSOURCE 'ProductID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	ProductName string(60) NOT NULL OPTIONS(NAMEINSOURCE 'ProductName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	ProductType string(15) OPTIONS(NAMEINSOURCE 'ProductType', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	Issuer string(10) OPTIONS(NAMEINSOURCE 'Issuer', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	Exchange string(10) OPTIONS(NAMEINSOURCE 'Exchange', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	DJIComponent boolean OPTIONS(NAMEINSOURCE 'DJIComponent', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	SP500Component boolean OPTIONS(NAMEINSOURCE 'SP500Component', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	Nas100Component boolean OPTIONS(NAMEINSOURCE 'Nas100Component', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	AmexIntComponent boolean OPTIONS(NAMEINSOURCE 'AmexIntComponent', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	PrimaryBusiness string(45) OPTIONS(NAMEINSOURCE 'PrimaryBusiness', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	CONSTRAINT PRIMARY PRIMARY KEY(ProductID)
) OPTIONS(NAMEINSOURCE 'productdata', UPDATABLE 'FALSE') 
AS
	SELECT Products_VBL.productdata.ProductID, Products_VBL.productdata.ProductName, Products_VBL.productdata.ProductType, Products_VBL.productdata.Issuer, Products_VBL.productdata.Exchange, convert(Products_VBL.productdata.DJIComponent, boolean) AS DJIComponent, convert(Products_VBL.productdata.SP500Component, boolean) AS SP500Component, convert(Products_VBL.productdata.Nas100Component, boolean) AS Nas100Component, convert(Products_VBL.productdata.AmexIntComponent, boolean) AS AmexIntComponent, Products_VBL.productdata.PrimaryBusiness FROM Products_VBL.productdata;

CREATE VIEW productsymbols (
	ProductID string(10) NOT NULL OPTIONS(NAMEINSOURCE 'ProductID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	SymbolType integer OPTIONS(NAMEINSOURCE 'SymbolType', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	Symbol string(10) NOT NULL OPTIONS(NAMEINSOURCE 'Symbol', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	CUSIP string(20) OPTIONS(NAMEINSOURCE 'CUSIP', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	CONSTRAINT PRIMARY PRIMARY KEY(ProductID),
	CONSTRAINT FK_ProductSymbols_ProductID FOREIGN KEY(ProductID) REFERENCES productdata(ProductID)
) OPTIONS(NAMEINSOURCE 'productsymbols', UPDATABLE 'FALSE') 
AS
	SELECT Products_VBL.productsymbols.ProductID, convert(Products_VBL.productsymbols.SymbolType, integer) AS SymbolType, Products_VBL.productsymbols.Symbol, Products_VBL.productsymbols.CUSIP FROM Products_VBL.productsymbols;

]]></metadata>
</model>
<model name="EU_Customers_DDC" type="VIRTUAL">
<metadata type="DDL"><![CDATA[
CREATE VIEW account (
	AccountID long NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CustomerId string(12) NOT NULL OPTIONS(NAMEINSOURCE 'CustomerId', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountType string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountType', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountStatus string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountStatus', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	DateOpened date OPTIONS(NAMEINSOURCE 'DateOpened', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	DateClosed date OPTIONS(NAMEINSOURCE 'DateClosed', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(AccountID),
	CONSTRAINT FK_Account_CustId FOREIGN KEY(CustomerId) REFERENCES customer(CustomerId)
) OPTIONS(NAMEINSOURCE 'account', UPDATABLE 'FALSE') 
AS
	SELECT convert(EU_Customers_VBL.account.AccountID, long) AS AccountID, EU_Customers_VBL.account.CustomerId, EU_Customers_VBL.account.AccountType, EU_Customers_VBL.account.AccountStatus, convert(EU_Customers_VBL.account.DateOpened, date) AS DateOpened, convert(EU_Customers_VBL.account.DateClosed, date) AS DateClosed FROM EU_Customers_VBL.account;

CREATE VIEW accountholdings (
	TransactionID string(15) NOT NULL OPTIONS(NAMEINSOURCE 'TransactionID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountID long NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductID string(12) NOT NULL OPTIONS(NAMEINSOURCE 'ProductID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PurchaseDate date OPTIONS(NAMEINSOURCE 'PurchaseDate', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductShares float NOT NULL OPTIONS(NAMEINSOURCE 'ProductShares', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(TransactionID),
	CONSTRAINT FK_AcctHoldings_AcctID FOREIGN KEY(AccountID) REFERENCES account(AccountID)
) OPTIONS(NAMEINSOURCE 'accountholdings', UPDATABLE 'FALSE') 
AS
	SELECT EU_Customers_VBL.accountholdings.TransactionID, convert(EU_Customers_VBL.accountholdings.AccountID, long) AS AccountID, EU_Customers_VBL.accountholdings.ProductID, convert(EU_Customers_VBL.accountholdings.PurchaseDate, date) AS PurchaseDate, convert(EU_Customers_VBL.accountholdings.ProductShares, float) AS ProductShares FROM EU_Customers_VBL.accountholdings;

CREATE VIEW customer (
	CustomerId string(12) NOT NULL OPTIONS(NAMEINSOURCE 'CustomerId', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	FirstName string(25) OPTIONS(NAMEINSOURCE 'FirstName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	LastName string(25) OPTIONS(NAMEINSOURCE 'LastName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	MiddleInitial string(15) OPTIONS(NAMEINSOURCE 'MiddleName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StreetAddress string(50) OPTIONS(NAMEINSOURCE 'StreetAddress', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StreetAddress2 string(25) OPTIONS(NAMEINSOURCE 'StreetAddress2', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	City string(25) OPTIONS(NAMEINSOURCE 'City', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StateProvince string(25) OPTIONS(NAMEINSOURCE 'StateProvince', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PostalCode string(15) OPTIONS(NAMEINSOURCE 'PostalCode', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	Country string(15) OPTIONS(NAMEINSOURCE 'Country', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PhoneNumber string(30) OPTIONS(NAMEINSOURCE 'PhoneNumber', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	CONSTRAINT PRIMARY PRIMARY KEY(CustomerId)
) OPTIONS(NAMEINSOURCE 'customer', UPDATABLE 'FALSE') 
AS
	SELECT CustomerId, FirstName, LastName, MiddleName AS MiddleInitial, StreetAddress, StreetAddress2, City, StateProvince, PostalCode, Country, PhoneNumber FROM EU_Customers_VBL.customer;

CREATE VIEW HashAccount (
	AccountID long,
	CustomerId string(12) NOT NULL OPTIONS(UPDATABLE 'FALSE'),
	AccountType string(10) NOT NULL OPTIONS(UPDATABLE 'FALSE'),
	AccountStatus string(10) NOT NULL OPTIONS(UPDATABLE 'FALSE'),
	DateOpened date,
	DateClosed date
) OPTIONS(UPDATABLE 'FALSE') 
AS
	SELECT convert(EU_Customers_VBL.account.AccountID, long) AS AccountID, EU_Customers_VBL.account.CustomerId, EU_Customers_VBL.account.AccountType, EU_Customers_VBL.account.AccountStatus, convert(EU_Customers_VBL.account.DateOpened, date) AS DateOpened, convert(EU_Customers_VBL.account.DateClosed, date) AS DateClosed FROM EU_Customers_VBL.account;

]]></metadata>
</model>
<model name="QuoteVirtual" type="VIRTUAL">
<metadata type="DDL"><![CDATA[
SET NAMESPACE 'http://teiid.org/rest' AS REST;

CREATE VIRTUAL PROCEDURE getQuote (ticker string(10)) RETURNS TABLE (price string(10))
	AS
 BEGIN SELECT X.c4 AS price FROM (EXEC YahooQuote.getTextFiles('table-1.csv')) AS f, TEXTTABLE(F.content COLUMNS c1 string, c2 string, c3 string, c4 string) AS x; END;

CREATE VIEW YahooQuoteTable (
	price string(10),
	ticker string(10)
) OPTIONS(UPDATABLE 'FALSE') 
AS
	SELECT
		*
	FROM
		QuoteVirtual.getQuote;

]]></metadata>
</model>
<model name="BrokerageModel" type="VIRTUAL">
<metadata type="DDL"><![CDATA[
CREATE VIEW Customer (
	CustomerId string(12) NOT NULL OPTIONS(UPDATABLE 'FALSE'),
	FirstName string(25) OPTIONS(UPDATABLE 'FALSE'),
	LastName string(25) OPTIONS(UPDATABLE 'FALSE'),
	MiddleInitial string(15) OPTIONS(UPDATABLE 'FALSE'),
	StreetAddress string(50) OPTIONS(UPDATABLE 'FALSE'),
	StreetAddress2 string(25) OPTIONS(UPDATABLE 'FALSE'),
	City string(25) OPTIONS(UPDATABLE 'FALSE'),
	StateProvince string(25) OPTIONS(UPDATABLE 'FALSE'),
	PostalCode string(15) OPTIONS(UPDATABLE 'FALSE'),
	Country string(15) OPTIONS(UPDATABLE 'FALSE'),
	PhoneNumber string(30) OPTIONS(UPDATABLE 'FALSE')
) OPTIONS(UPDATABLE 'FALSE') 
AS
	SELECT * FROM All_Customers.customer;

CREATE VIEW Account (
	AccountID long NOT NULL OPTIONS(CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CustomerId string(12) NOT NULL OPTIONS(UPDATABLE 'FALSE'),
	AccountType string(10) NOT NULL OPTIONS(UPDATABLE 'FALSE'),
	AccountStatus string(10) NOT NULL OPTIONS(UPDATABLE 'FALSE'),
	DateOpened date OPTIONS(CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	DateClosed date OPTIONS(CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE')
) OPTIONS(UPDATABLE 'FALSE') 
AS
	SELECT * FROM All_Customers.account;

CREATE VIEW AccountHoldings (
	AccountID long,
	ProductID string,
	PurchaseDate date,
	ProductShares float,
	ProductName string,
	ProductType string,
	Issuer string,
	LastTradePrice double,
	AccountValue double
) OPTIONS(UPDATABLE 'FALSE') 
AS
	SELECT All_Customers.accountholdings.AccountID, All_Customers.accountholdings.ProductID, All_Customers.accountholdings.PurchaseDate, All_Customers.accountholdings.ProductShares, Products_DDC.productdata.ProductName, Products_DDC.productdata.ProductType, Products_DDC.productdata.Issuer, QuoteService.QuoteService.LastTradePrice, (QuoteService.QuoteService.LastTradePrice * All_Customers.accountholdings.ProductShares) AS AccountValue FROM ((Products_DDC.ProductData INNER JOIN Products_DDC.ProductSymbols ON Products_DDC.productdata.ProductID = Products_DDC.productsymbols.ProductID) INNER JOIN All_Customers.ACCOUNTHOLDINGS ON All_Customers.accountholdings.ProductID = Products_DDC.productdata.ProductID) INNER JOIN QuoteService.QuoteService ON Products_DDC.productsymbols.Symbol = QuoteService.QuoteService.Symbol;

CREATE VIEW AccountValue (
	CustomerId string(12) NOT NULL OPTIONS(UPDATABLE 'FALSE'),
	AccountID long NOT NULL OPTIONS(CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	TotalValue double
) OPTIONS(UPDATABLE 'FALSE') 
AS
	SELECT BrokerageModel.Customer.CustomerId, BrokerageModel.Account.AccountID, SUM(BrokerageModel.AccountHoldings.AccountValue) AS TotalValue FROM BrokerageModel.Customer, BrokerageModel.Account, BrokerageModel.AccountHoldings WHERE (BrokerageModel.Customer.CustomerId = BrokerageModel.Account.CustomerId) AND (BrokerageModel.Account.AccountID = BrokerageModel.AccountHoldings.AccountID) GROUP BY BrokerageModel.Customer.CustomerId, BrokerageModel.Account.AccountID;

CREATE VIEW HighNetWorthCustomers (
	CustomerId string(12) NOT NULL OPTIONS(UPDATABLE 'FALSE'),
	AccountID long NOT NULL OPTIONS(CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	TotalValue double,
	FirstName string(25) OPTIONS(UPDATABLE 'FALSE'),
	LastName string(25) OPTIONS(UPDATABLE 'FALSE'),
	MiddleInitial string(15) OPTIONS(UPDATABLE 'FALSE'),
	StreetAddress string(50) OPTIONS(UPDATABLE 'FALSE'),
	StreetAddress2 string(25) OPTIONS(UPDATABLE 'FALSE'),
	City string(25) OPTIONS(UPDATABLE 'FALSE'),
	StateProvince string(25) OPTIONS(UPDATABLE 'FALSE'),
	PostalCode string(15) OPTIONS(UPDATABLE 'FALSE'),
	Country string(15) OPTIONS(UPDATABLE 'FALSE'),
	PhoneNumber string(30) OPTIONS(UPDATABLE 'FALSE')
) OPTIONS(UPDATABLE 'FALSE') 
AS
	SELECT BrokerageModel.AccountValue.CustomerId, BrokerageModel.AccountValue.AccountID, BrokerageModel.AccountValue.TotalValue, All_Customers.customer.FirstName, All_Customers.customer.LastName, All_Customers.customer.MiddleInitial, All_Customers.customer.StreetAddress, All_Customers.customer.StreetAddress2, All_Customers.customer.City, All_Customers.customer.StateProvince, All_Customers.customer.PostalCode, All_Customers.customer.Country, All_Customers.customer.PhoneNumber FROM BrokerageModel.AccountValue, All_Customers.CUSTOMER WHERE (All_Customers.customer.CustomerId = BrokerageModel.AccountValue.CustomerId) AND (BrokerageModel.AccountValue.TotalValue > 70000.0);

]]></metadata>
</model>
<model name="US_Customers_VBL" type="VIRTUAL">
<metadata type="DDL"><![CDATA[
CREATE VIEW account (
	AccountID bigdecimal(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	SSN string(12) NOT NULL OPTIONS(NAMEINSOURCE 'SSN', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountType string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountType', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountStatus string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountStatus', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	DateOpened timestamp NOT NULL OPTIONS(NAMEINSOURCE 'DateOpened', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	DateClosed timestamp OPTIONS(NAMEINSOURCE 'DateClosed', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(AccountID),
	CONSTRAINT FK_Account_SSN FOREIGN KEY(SSN) REFERENCES customer(SSN)
) OPTIONS(NAMEINSOURCE 'account', UPDATABLE 'FALSE') 
AS
	SELECT * FROM US_Customers.account;

CREATE VIEW accountholdings (
	TransactionID string(15) NOT NULL OPTIONS(NAMEINSOURCE 'TransactionID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountID bigdecimal(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductID string(12) NOT NULL OPTIONS(NAMEINSOURCE 'ProductID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PurchaseDate timestamp NOT NULL OPTIONS(NAMEINSOURCE 'PurchaseDate', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductShares bigdecimal(10, 5) NOT NULL OPTIONS(NAMEINSOURCE 'ProductShares', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(TransactionID),
	CONSTRAINT FK_AcctHoldings_AcctID FOREIGN KEY(AccountID) REFERENCES account(AccountID)
) OPTIONS(NAMEINSOURCE 'accountholdings', UPDATABLE 'FALSE') 
AS
	SELECT * FROM US_Customers.accountholdings;

CREATE VIEW customer (
	SSN string(12) NOT NULL OPTIONS(NAMEINSOURCE 'SSN', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	FirstName string(25) OPTIONS(NAMEINSOURCE 'FirstName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	LastName string(25) OPTIONS(NAMEINSOURCE 'LastName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	MiddleInitial string(15) OPTIONS(NAMEINSOURCE 'MiddleInitial', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StreetAddress1 string(50) OPTIONS(NAMEINSOURCE 'StreetAddress1', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AptNumber string(25) OPTIONS(NAMEINSOURCE 'AptNumber', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	City string(25) OPTIONS(NAMEINSOURCE 'City', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	State string(25) OPTIONS(NAMEINSOURCE 'State', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	Zipcode string(15) OPTIONS(NAMEINSOURCE 'Zipcode', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	Phone string(30) OPTIONS(NAMEINSOURCE 'Phone', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	CONSTRAINT PRIMARY PRIMARY KEY(SSN)
) OPTIONS(NAMEINSOURCE 'customer', UPDATABLE 'FALSE') 
AS
	SELECT * FROM US_Customers.customer;

]]></metadata>
</model>
<model name="APAC_Customers_DDC" type="VIRTUAL">
<metadata type="DDL"><![CDATA[
CREATE VIEW account (
	AccountID long NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CustomerId string(12) NOT NULL OPTIONS(NAMEINSOURCE 'CustomerId', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountType string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountType', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountStatus string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountStatus', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	DateOpened date OPTIONS(NAMEINSOURCE 'DateOpened', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	DateClosed date OPTIONS(NAMEINSOURCE 'DateClosed', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(AccountID),
	CONSTRAINT FK_Account_CustId FOREIGN KEY(CustomerId) REFERENCES customer(CustomerId)
) OPTIONS(NAMEINSOURCE 'account', UPDATABLE 'FALSE') 
AS
	SELECT convert(APAC_Customers_VBL.ACCOUNT.AccountID, long) AS AccountID, APAC_Customers_VBL.ACCOUNT.CustID AS CustomerId, APAC_Customers_VBL.ACCOUNT.AccountType, APAC_Customers_VBL.ACCOUNT.AccountStatus, convert(APAC_Customers_VBL.ACCOUNT.DATEOPENED, date) AS DateOpened, convert(APAC_Customers_VBL.ACCOUNT.DATECLOSED, date) AS DateClosed FROM APAC_Customers_VBL.account;

CREATE VIEW accountholdings (
	TransactionID string(15) NOT NULL OPTIONS(NAMEINSOURCE 'TransactionID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountID long NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductID string(12) NOT NULL OPTIONS(NAMEINSOURCE 'ProductID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PurchaseDate date OPTIONS(NAMEINSOURCE 'PurchaseDate', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductShares float NOT NULL OPTIONS(NAMEINSOURCE 'ProductShares', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(TransactionID),
	CONSTRAINT FK_AcctHoldings_AcctID FOREIGN KEY(AccountID) REFERENCES account(AccountID)
) OPTIONS(NAMEINSOURCE 'accountholdings', UPDATABLE 'FALSE') 
AS
	SELECT APAC_Customers_VBL.ACCOUNTHOLDINGS.TransactionID, convert(APAC_Customers_VBL.ACCOUNTHOLDINGS.AccountID, long) AS AccountID, APAC_Customers_VBL.ACCOUNTHOLDINGS.ProductID, convert(APAC_Customers_VBL.ACCOUNTHOLDINGS.PURCHASEDATE, date) AS PurchaseDate, convert(APAC_Customers_VBL.ACCOUNTHOLDINGS.ProductShares, float) AS ProductShares FROM APAC_Customers_VBL.accountholdings;

CREATE VIEW customer (
	CustomerId string(12) NOT NULL OPTIONS(NAMEINSOURCE 'CustomerId', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	FirstName string(25) OPTIONS(NAMEINSOURCE 'FirstName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	LastName string(25) OPTIONS(NAMEINSOURCE 'LastName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	MiddleInitial string(15) OPTIONS(NAMEINSOURCE 'MiddleName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StreetAddress string(50) OPTIONS(NAMEINSOURCE 'StreetAddress', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StreetAddress2 string(25) OPTIONS(NAMEINSOURCE 'StreetAddress2', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	City string(25) OPTIONS(NAMEINSOURCE 'City', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StateProvince string(25) OPTIONS(NAMEINSOURCE 'StateProvince', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PostalCode string(15) OPTIONS(NAMEINSOURCE 'PostalCode', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	Country string(15) OPTIONS(NAMEINSOURCE 'Country', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PhoneNumber string(30) OPTIONS(NAMEINSOURCE 'PhoneNumber', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	CONSTRAINT PRIMARY PRIMARY KEY(CustomerId)
) OPTIONS(NAMEINSOURCE 'customer', UPDATABLE 'FALSE') 
AS
	SELECT APAC_Customers_VBL.CUSTOMER.CustID AS CustomerId, APAC_Customers_VBL.CUSTOMER.F_name AS FirstName, APAC_Customers_VBL.CUSTOMER.L_name AS LastName, APAC_Customers_VBL.CUSTOMER.M_name AS MiddleInitial, APAC_Customers_VBL.CUSTOMER.StreetAddress, APAC_Customers_VBL.CUSTOMER.StreetAddress2, APAC_Customers_VBL.CUSTOMER.CITY, APAC_Customers_VBL.CUSTOMER.StateProvince, APAC_Customers_VBL.CUSTOMER.POSTALCODE, APAC_Customers_VBL.CUSTOMER.COUNTRY, APAC_Customers_VBL.CUSTOMER.PhoneNumber FROM APAC_Customers_VBL.customer;

]]></metadata>
</model>
<model name="QuoteService" type="VIRTUAL">
<metadata type="DDL"><![CDATA[
CREATE VIEW QuoteService (
	LastTradePrice double,
	Symbol string(10)
) OPTIONS(UPDATABLE 'FALSE') 
AS
	SELECT convert(QUOTEVIRTUAL.GETQUOTE.price, double) AS LastTradePrice, QUOTEVIRTUAL.GETQUOTE.ticker AS Symbol FROM QuoteVirtual.getQuote;

]]></metadata>
</model>
<model name="US_Customers_DDC" type="VIRTUAL">
<metadata type="DDL"><![CDATA[
CREATE VIEW account (
	AccountID long NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CustomerId string(12) NOT NULL OPTIONS(NAMEINSOURCE 'CustomerId', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountType string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountType', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountStatus string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountStatus', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	DateOpened date OPTIONS(NAMEINSOURCE 'DateOpened', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	DateClosed date OPTIONS(NAMEINSOURCE 'DateClosed', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(AccountID),
	CONSTRAINT FK_Account_CustId FOREIGN KEY(CustomerId) REFERENCES customer(CustomerId)
) OPTIONS(NAMEINSOURCE 'account', UPDATABLE 'FALSE') 
AS
	SELECT convert(US_Customers_VBL.account.AccountID, long) AS AccountID, US_Customers_VBL.account.SSN AS CustomerId, US_Customers_VBL.account.AccountType, US_Customers_VBL.account.AccountStatus, convert(US_Customers_VBL.account.DateOpened, date) AS DateOpened, convert(US_Customers_VBL.account.DateClosed, date) AS DateClosed FROM US_Customers_VBL.account;

CREATE VIEW accountholdings (
	TransactionID string(15) NOT NULL OPTIONS(NAMEINSOURCE 'TransactionID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountID long NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductID string(12) NOT NULL OPTIONS(NAMEINSOURCE 'ProductID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PurchaseDate date OPTIONS(NAMEINSOURCE 'PurchaseDate', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductShares float NOT NULL OPTIONS(NAMEINSOURCE 'ProductShares', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(TransactionID),
	CONSTRAINT FK_AcctHoldings_AcctID FOREIGN KEY(AccountID) REFERENCES account(AccountID)
) OPTIONS(NAMEINSOURCE 'accountholdings', UPDATABLE 'FALSE') 
AS
	SELECT US_Customers_VBL.accountholdings.TransactionID, convert(US_Customers_VBL.accountholdings.AccountID, long) AS AccountID, US_Customers_VBL.accountholdings.ProductID, convert(US_Customers_VBL.accountholdings.PurchaseDate, date) AS PurchaseDate, convert(US_Customers_VBL.accountholdings.ProductShares, float) AS ProductShares FROM US_Customers_VBL.accountholdings;

CREATE VIEW customer (
	CustomerId string(12) NOT NULL OPTIONS(NAMEINSOURCE 'CustomerId', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	FirstName string(25) OPTIONS(NAMEINSOURCE 'FirstName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	LastName string(25) OPTIONS(NAMEINSOURCE 'LastName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	MiddleInitial string(15) OPTIONS(NAMEINSOURCE 'MiddleName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StreetAddress string(50) OPTIONS(NAMEINSOURCE 'StreetAddress', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StreetAddress2 string(25) OPTIONS(NAMEINSOURCE 'StreetAddress2', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	City string(25) OPTIONS(NAMEINSOURCE 'City', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StateProvince string(25) OPTIONS(NAMEINSOURCE 'StateProvince', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PostalCode string(15) OPTIONS(NAMEINSOURCE 'PostalCode', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	Country string(15) OPTIONS(NAMEINSOURCE 'Country', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PhoneNumber string(30) OPTIONS(NAMEINSOURCE 'PhoneNumber', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	CONSTRAINT PRIMARY PRIMARY KEY(CustomerId)
) OPTIONS(NAMEINSOURCE 'customer', UPDATABLE 'FALSE') 
AS
	SELECT SSN AS CustomerId, FirstName, LastName, MiddleInitial, StreetAddress1 AS StreetAddress, AptNumber AS StreetAddress2, City, State AS StateProvince, Zipcode AS PostalCode, 'USA' AS Country, Phone AS PhoneNumber FROM US_Customers_VBL.customer;

]]></metadata>
</model>
<model name="EU_Customers_VBL" type="VIRTUAL">
<metadata type="DDL"><![CDATA[
CREATE VIEW account (
	AccountID bigdecimal(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CustomerId string(12) NOT NULL OPTIONS(NAMEINSOURCE 'CustomerId', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountType string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountType', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountStatus string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountStatus', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	DateOpened timestamp OPTIONS(NAMEINSOURCE 'DateOpened', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	DateClosed timestamp OPTIONS(NAMEINSOURCE 'DateClosed', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(AccountID),
	CONSTRAINT FK_Account_CustId FOREIGN KEY(CustomerId) REFERENCES customer(CustomerId)
) OPTIONS(NAMEINSOURCE 'account', UPDATABLE 'FALSE') 
AS
	SELECT * FROM EU_Customers.account;

CREATE VIEW accountholdings (
	TransactionID string(15) NOT NULL OPTIONS(NAMEINSOURCE 'TransactionID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	AccountID bigdecimal(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductID string(12) NOT NULL OPTIONS(NAMEINSOURCE 'ProductID', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PurchaseDate timestamp OPTIONS(NAMEINSOURCE 'PurchaseDate', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductShares bigdecimal(10, 5) NOT NULL OPTIONS(NAMEINSOURCE 'ProductShares', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', UPDATABLE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(TransactionID),
	CONSTRAINT FK_AcctHoldings_AcctID FOREIGN KEY(AccountID) REFERENCES account(AccountID)
) OPTIONS(NAMEINSOURCE 'accountholdings', UPDATABLE 'FALSE') 
AS
	SELECT * FROM EU_Customers.accountholdings;

CREATE VIEW customer (
	CustomerId string(12) NOT NULL OPTIONS(NAMEINSOURCE 'CustomerId', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	FirstName string(25) OPTIONS(NAMEINSOURCE 'FirstName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	LastName string(25) OPTIONS(NAMEINSOURCE 'LastName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	MiddleName string(15) OPTIONS(NAMEINSOURCE 'MiddleName', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StreetAddress string(50) OPTIONS(NAMEINSOURCE 'StreetAddress', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StreetAddress2 string(25) OPTIONS(NAMEINSOURCE 'StreetAddress2', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	City string(25) OPTIONS(NAMEINSOURCE 'City', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	StateProvince string(25) OPTIONS(NAMEINSOURCE 'StateProvince', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PostalCode string(15) OPTIONS(NAMEINSOURCE 'PostalCode', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	Country string(15) OPTIONS(NAMEINSOURCE 'Country', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	PhoneNumber string(30) OPTIONS(NAMEINSOURCE 'PhoneNumber', NATIVE_TYPE 'VARCHAR', UPDATABLE 'FALSE'),
	CONSTRAINT PRIMARY PRIMARY KEY(CustomerId)
) OPTIONS(NAMEINSOURCE 'customer', UPDATABLE 'FALSE') 
AS
	SELECT * FROM EU_Customers.customer;

]]></metadata>
</model>
<model name="APAC_Customers">
<source connection-jndi-name="APAC_Customers" name="APAC_Customers" translator-name="mysql5"/>
<metadata type="DDL"><![CDATA[
CREATE FOREIGN TABLE ACCOUNT (
	AccountID bigdecimal(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CustID string(12) NOT NULL OPTIONS(NAMEINSOURCE 'CustID', NATIVE_TYPE 'VARCHAR'),
	AccountType string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountType', NATIVE_TYPE 'VARCHAR'),
	AccountStatus string(10) NOT NULL OPTIONS(NAMEINSOURCE 'AccountStatus', NATIVE_TYPE 'VARCHAR'),
	DATEOPENED timestamp NOT NULL OPTIONS(NAMEINSOURCE 'DATEOPENED', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	DATECLOSED timestamp OPTIONS(NAMEINSOURCE 'DATECLOSED', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(AccountID),
	CONSTRAINT FK_Account_CustID FOREIGN KEY(CustID) REFERENCES CUSTOMER(CustID)
) OPTIONS(NAMEINSOURCE 'ACCOUNT')

CREATE FOREIGN TABLE ACCOUNTHOLDINGS (
	TransactionID string(12) NOT NULL OPTIONS(NAMEINSOURCE 'TransactionID', NATIVE_TYPE 'VARCHAR'),
	AccountID bigdecimal(18) NOT NULL OPTIONS(NAMEINSOURCE 'AccountID', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductID string(12) NOT NULL OPTIONS(NAMEINSOURCE 'ProductID', NATIVE_TYPE 'VARCHAR'),
	PURCHASEDATE timestamp NOT NULL OPTIONS(NAMEINSOURCE 'PURCHASEDATE', NATIVE_TYPE 'DATETIME', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	ProductShares bigdecimal(10, 5) NOT NULL OPTIONS(NAMEINSOURCE 'ProductShares', NATIVE_TYPE 'DECIMAL', CASE_SENSITIVE 'FALSE', FIXED_LENGTH 'TRUE', SEARCHABLE 'ALL_EXCEPT_LIKE'),
	CONSTRAINT PRIMARY PRIMARY KEY(TransactionID),
	CONSTRAINT FK_AcctHoldings_AcctID FOREIGN KEY(AccountID) REFERENCES ACCOUNT(AccountID)
) OPTIONS(NAMEINSOURCE 'ACCOUNTHOLDINGS')

CREATE FOREIGN TABLE CUSTOMER (
	CustID string(12) NOT NULL OPTIONS(NAMEINSOURCE 'CustID', NATIVE_TYPE 'VARCHAR'),
	F_name string(25) OPTIONS(NAMEINSOURCE 'F_name', NATIVE_TYPE 'VARCHAR'),
	L_name string(25) OPTIONS(NAMEINSOURCE 'L_name', NATIVE_TYPE 'VARCHAR'),
	M_name string(15) OPTIONS(NAMEINSOURCE 'M_name', NATIVE_TYPE 'VARCHAR'),
	StreetAddress string(50) OPTIONS(NAMEINSOURCE 'StreetAddress', NATIVE_TYPE 'VARCHAR'),
	StreetAddress2 string(25) OPTIONS(NAMEINSOURCE 'StreetAddress2', NATIVE_TYPE 'VARCHAR'),
	CITY string(25) OPTIONS(NAMEINSOURCE 'CITY', NATIVE_TYPE 'VARCHAR'),
	StateProvince string(25) OPTIONS(NAMEINSOURCE 'StateProvince', NATIVE_TYPE 'VARCHAR'),
	POSTALCODE string(15) OPTIONS(NAMEINSOURCE 'POSTALCODE', NATIVE_TYPE 'VARCHAR'),
	COUNTRY string(10) OPTIONS(NAMEINSOURCE 'COUNTRY', NATIVE_TYPE 'VARCHAR'),
	PhoneNumber string(30) OPTIONS(NAMEINSOURCE 'PhoneNumber', NATIVE_TYPE 'VARCHAR'),
	CONSTRAINT PRIMARY PRIMARY KEY(CustID)
) OPTIONS(NAMEINSOURCE 'CUSTOMER')

]]></metadata>
</model>
</vdb>
